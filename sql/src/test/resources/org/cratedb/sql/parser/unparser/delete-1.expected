DELETE FROM t AS t1 WHERE (x IN (1, 2, $1)) AND (EXISTS (SELECT * FROM t AS t2 WHERE (t1.id <> t2.id) AND (t1.name = t2.name)))