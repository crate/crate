.. highlight:: psql
.. _ref-create-function:

===============
CREATE FUNCTION
===============

Create a new function.

Synopsis
========

::

    CREATE [OR REPLACE] FUNCTION [ schema_name. ] function_name
        ( [ [arg_name] arg_type ] [, ...] ] )
    RETURNS return_type
    { LANGUAGE language_name
      | CALLED ON NULL INPUT | RETURNS NULL ON NULL INPUT | STRICT
      | AS 'definition'
    }

Description
===========

``CREATE FUNCTION`` creates a new user defined function.

``CREATE OR REPLACE FUNCTION`` will either create a new function, or replace an
existing function.

Optionally, a function name can contain a schema name. If the schema is not
defined, the function is created in the current schema.

The signature of the function is defined by its schema, name, input arguments,
and return type.

You can overload functions by defining two functions of the same name, but have
a different set of input arguments.

Parameters
==========

:schema_name: The name of the schema in which the function is created.

:function_name: The name of the function to create.

:arg_name: The optional name given to an argument. Function arguments do not
  retain names, but you can name them in your query for documentation purposes.

:arg_type: The data type of a given argument. See :ref:`sql_ddl_datatypes`
  for more detailed information about the supported types.

:return_type: The returned data type of the function. The return type can be any
  supported type.

:language_name: The language used for the function implementation. For example,
  javascript.

:definition: A string defining the body of the function. See :ref:`string_literal`
  for more details.

:CALLED ON NULL INPUT: (default) Indicates that the function can be called when
  some of its arguments are NULL.

:RETURNS NULL ON NULL INPUT and STRICT: Indicates that the function always
  returns null when any of its arguments are NULL.
