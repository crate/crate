=========================
 Crate Admin site plugin
=========================

A web based admin interface for crate.

Accessible via http://localhost:9200/admin or by the classic site
plugin url http://localhost:9200/_plugin/crate-admin/


Installation
============

This plugin has been designed to be delivered as site plugin of
crate. It gets built and packed during the packaging process of
crate. Once crate has been installed, this plugin will be located at
``plugins/crate-admin/_site/``


Development
===========

This plugin is based on angularjs_. The basic structure and some basic
components have been generated by yeoman_. For tasks like running a
testserver, running tests or creating a distribution grunt_ is used.


Requirements
------------


To develop or distribute this app you'll need the following packages::

 $ sudo port install nodejs npm
 $ sudo npm install -g yo grunt-cli bower
 $ gem install compass

If the `gem install` install command is used without sudo the packages will be
installed into `$HOME/.gem/ruby/<RUBY-VERSION/bin`. Make sure to add that PATH
to your sys path ($PATH) otherwise `grunt server` won't find compass. Next
install all dependencies defined in `package.json` by using::

 $ npm install

And to generate the angular js dependencies use::

 $ bower install

Running the app using the test-server
-------------------------------------


In the root of the package (here) start the grunt server::

 $ grunt server

This will start a http server on port 9000 and serves the app. A
browser displaying the index page of the app will get started
automatically.

Note: The app is designed to run as a site plugin of elasticsearch or
crate respectively and depends on the API of these services. The grunt
test-server does not provide this API. To make sure the app will make
it's API requests to a proper elasticsearch endpoint pass the optional
``prefix`` parameter pointing to a running elasticsearch instance.

 $ open http://localhost:9000/#/?prefix=http://localhost:9200


Running tests
-------------

In the root of the package (here) start the test runner::

 $ grunt test

This will execute all tests defined in ``test/spec/``.

Extending the app
-----------------

To add new components like controllers, directives, views etc. to the
app use ``yo``, the cli of yeoman_, in combination with the
angulargenerator_::

 $ yo angular:controller <name>
 $ yo angular:view <name>


.. _angularjs:         http://angularjs.org/
.. _yeoman:            http://yeoman.io/
.. _grunt:             http://gruntjs.com/
.. _angulargenerator:  https://github.com/yeoman/generator-angular
