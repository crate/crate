apply plugin: 'java'
apply plugin: 'distribution'

archivesBaseName = 'crate-client'

evaluationDependsOn(':sql')

dependencies {
    compile project(':es')
    compile files(project(':sql').sourceSets.shared.output.classesDir)
    testCompile project(':testing')
    testCompile project(':sql')
}

configurations {
    all*.exclude group: 'org.elasticsearch'
    all*.exclude group: 'org.apache.lucene'
}



jar {
    baseName 'crate-client'
    from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
}

compileJava {
    dependsOn ':sql:compileSharedJava'
}
